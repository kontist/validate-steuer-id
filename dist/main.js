!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{generateSteuerId:()=>i,generateUniqueSteuerIds:()=>u,isOccurrencesValid:()=>r,isSteuerIdValid:()=>o});const n=e=>{const t=e.length;if(0===t||void 0===t||isNaN(t))return null;let n,r,o=10;for(let i=0;i<t;i++)n=e[i],r=(n+o)%10,0===r&&(r=10),o=2*r%11;const i=11-o;return 10===i?0:i};function r(e){const t=(e=>{const t={};for(const n in e){const r=e[n];void 0===t[r]?t[r]=[n]:t[r]=[...t[r],n]}return t})((e=>{const t={};return e.forEach((e=>{e in t?t[e]+=1:t[e]=1})),t})(e));let n=!0;return"3"in t&&(n=!e.find(((e,t,n)=>e===n[t-1]&&e===n[t-2]))),((e={})=>{let t=0;for(const n in e)if(parseInt(n)>=2&&t++,t>1)return!1;return!0})(t)&&n}function o(e){const t=e.split("").map((e=>parseInt(e,10)));if(0===t[0]||11!==e.length||!t.reduce((function(e,t){return e&&"number"==typeof t&&!isNaN(t)}),!0))return!1;const o=t.slice(0,10);return!(!r(o)||n(o)!==(e=>{const t=e.length-1;return t>=0?e[t]:null})(t))}function i(){let e;e=[];const t=Math.round(8*Math.random()+1);let o;for(e.push(t),o=[];e.length<10;){let t,n=!1;for(;!n;)t=Math.round(9*Math.random()),o=[...e,t],r(o)&&(n=!0);e=[...o]}return e.join("")+String(n(e))}const u=e=>{const t=new Set;for(;t.size<e;)t.add(i());return Array.from(t)};return t})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0wsRUFBWU0sTUFBTSxFQUFHLElBSXRDLFNBRmdCMUIsRUFBbUJ5QixJQUloQmxDLEVBQVlrQyxLQTlHakIsQ0FBQ2xCLElBQ2YsTUFBTW9CLEVBQVlwQixFQUFJZCxPQUFTLEVBQy9CLE9BQU9rQyxHQUFhLEVBQUlwQixFQUFJb0IsR0FBYSxNQTZHdEJDLENBQVFSLElBYXRCLFNBQVNTLElBQ2QsSUFBSTVCLEVBQ0pBLEVBQVMsR0FFVCxNQUFNTCxFQUFRa0MsS0FBS0MsTUFBdUIsRUFBaEJELEtBQUtFLFNBQWdCLEdBRy9DLElBQUlDLEVBR0osSUFMQWhDLEVBQU9pQyxLQUFLdEMsR0FHWnFDLEVBQVksR0FFTGhDLEVBQU9SLE9BQVMsSUFBSSxDQUN6QixJQUNJMEMsRUFEQUMsR0FBZSxFQUVuQixNQUFRQSxHQUNORCxFQUFpQkwsS0FBS0MsTUFBc0IsRUFBaEJELEtBQUtFLFVBQ2pDQyxFQUFZLElBQUloQyxFQUFRa0MsR0FDcEJuQyxFQUFtQmlDLEtBQ3JCRyxHQUFlLEdBR25CbkMsRUFBUyxJQUFJZ0MsR0FHZixPQUFPaEMsRUFBT29DLEtBQUssSUFBTUMsT0FBTy9DLEVBQVlVLElBR3ZDLE1BQU1zQyxFQUEyQkMsSUFDdEMsTUFBTUMsRUFBaUIsSUFBSUMsSUFFM0IsS0FBT0QsRUFBZUUsS0FBT0gsR0FDM0JDLEVBQWVHLElBQUlmLEtBR3JCLE9BQU9nQixNQUFNQyxLQUFLTCxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmFsaWRhdGUtc3RldWVyaWQvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL3ZhbGlkYXRlLXN0ZXVlcmlkL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ZhbGlkYXRlLXN0ZXVlcmlkL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly92YWxpZGF0ZS1zdGV1ZXJpZC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ZhbGlkYXRlLXN0ZXVlcmlkL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdmFsaWRhdGUtc3RldWVyaWQvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGFyZUFsbE51bWJlcnMgPSAoYXJyOiBudW1iZXJbXSkgPT4ge1xuICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhICYmIHR5cGVvZiBiID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oYilcbiAgfSwgdHJ1ZSk7XG59XG5cbmNvbnN0IGdldFRhaWwgPSAoYXJyOiBudW1iZXJbXSkgPT4ge1xuICBjb25zdCBsYXN0SW5kZXggPSBhcnIubGVuZ3RoIC0gMTtcbiAgcmV0dXJuIGxhc3RJbmRleCA+PSAwID8gYXJyW2xhc3RJbmRleF0gOiBudWxsO1xufVxuXG5jb25zdCBnZXROdW1PY2N1cnJlbmNlc01hcCA9IChhcnI6IG51bWJlcltdKSA9PiB7XG4gIGNvbnN0IG1hcCA9IHt9O1xuICBhcnIuZm9yRWFjaCgobnVtOiBudW1iZXIpID0+IHtcbiAgICBpZiAoIShudW0gaW4gbWFwKSkge1xuICAgICAgbWFwW251bV0gPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXBbbnVtXSArPSAxO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBtYXA7XG59XG5cbmNvbnN0IGdyb3VwQnlOdW1PZk9jY3VycmVuY2VzID0gKG1hcDogT2JqZWN0KSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBtYXApIHtcbiAgICBjb25zdCBudW1PZk9jY3VycmVuY2UgPSBtYXBba2V5XTtcbiAgICBpZiAocmVzdWx0W251bU9mT2NjdXJyZW5jZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzdWx0W251bU9mT2NjdXJyZW5jZV0gPSBba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W251bU9mT2NjdXJyZW5jZV0gPSBbLi4ucmVzdWx0W251bU9mT2NjdXJyZW5jZV0sIGtleV07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGhhcyB0byBoYXZlIGVpdGhlciBvbmUgZG91YmxlIGRpZ2l0IE9SIG9uZSB0cmlwbGUgZGlnaXQsIG5ldmVyIGJvdGguXG5jb25zdCBjaGVja0RvdWJsZU9yVHJpcGxlID0gKGdyb3VwZWRCeU9jY3VycmVuY2VzID0ge30pID0+IHtcbiAgbGV0IG51bTJvcjNvY2N1cnJlbmNlcyA9IDA7XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gZ3JvdXBlZEJ5T2NjdXJyZW5jZXMpIHtcbiAgICBjb25zdCBvY2N1cnJlbmNlID0gcGFyc2VJbnQoa2V5KTtcblxuICAgIC8vIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiAxIDJvcjMgb2NjdXJyZW5jZXMgcmV0dXJuIGZhbHNlXG4gICAgaWYgKG9jY3VycmVuY2UgPj0gMikge1xuICAgICAgbnVtMm9yM29jY3VycmVuY2VzKys7XG4gICAgfVxuXG4gICAgaWYgKG51bTJvcjNvY2N1cnJlbmNlcyA+IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gQ2FuIG9ubHkgaGF2ZSBudW1iZXIgaW4gdHdvIGNvbnNlY3V0aXZlIHBvc2l0aW9ucywgbmV2ZXIgdGhyZWUuXG5jb25zdCBjaGVja0NvbnNlY3V0aXZlUG9zaXRpb25zID0gKGZpcnN0VGVuOiBudW1iZXJbXSkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3N0cmljdC1ib29sZWFuLWV4cHJlc3Npb25zXG4gIHJldHVybiAhKGZpcnN0VGVuLmZpbmQoKGl0ZW0sIGluZGV4LCBhcnJheSkgPT4gKGl0ZW0gPT09IGFycmF5W2luZGV4IC0gMV0gJiYgaXRlbSA9PT0gYXJyYXlbaW5kZXggLSAyXSkpKTtcbn1cblxuY29uc3QgZ2V0Q2hlY2tzdW0gPSAoc3RldWVySWQ6IG51bWJlcltdKSA9PiB7XG4gIC8vIFRha2VzIGluIGFuIGFycmF5IG9mIG51bWJlcnNcbiAgY29uc3QgbGVuZ3RoID0gc3RldWVySWQubGVuZ3RoXG5cbiAgaWYgKGxlbmd0aCA9PT0gMCB8fCBsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBpc05hTihsZW5ndGgpKSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IG4gPSAxMVxuICBjb25zdCBtID0gMTBcbiAgbGV0IGRpZ2l0XG4gIGxldCBwcm9kdWN0ID0gbVxuICBsZXQgc3VtXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGRpZ2l0ID0gc3RldWVySWRbaV1cbiAgICBzdW0gPSAoZGlnaXQgKyBwcm9kdWN0KSAlIG1cbiAgICBpZiAoc3VtID09PSAwKSB7XG4gICAgICBzdW0gPSBtXG4gICAgfVxuICAgIHByb2R1Y3QgPSAoMiAqIHN1bSkgJSBuXG4gIH1cblxuICBjb25zdCBjaGVja0RpZ2l0ID0gbiAtIHByb2R1Y3RcblxuICByZXR1cm4gKGNoZWNrRGlnaXQgPT09IDEwKSA/IDAgOiBjaGVja0RpZ2l0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09jY3VycmVuY2VzVmFsaWQoZGlnaXRzOiBudW1iZXJbXSkge1xuICBjb25zdCBncm91cGVkQnlDaGFyYWN0ZXJzID0gZ2V0TnVtT2NjdXJyZW5jZXNNYXAoZGlnaXRzKTtcbiAgY29uc3QgZ3JvdXBlZEJ5T2NjdXJyZW5jZXMgPSBncm91cEJ5TnVtT2ZPY2N1cnJlbmNlcyhncm91cGVkQnlDaGFyYWN0ZXJzKTtcbiAgbGV0IHZhbGlkQ29uc2VjdXRpdmUgPSB0cnVlO1xuXG4gIGlmICgnMycgaW4gZ3JvdXBlZEJ5T2NjdXJyZW5jZXMpIHtcbiAgICB2YWxpZENvbnNlY3V0aXZlID0gY2hlY2tDb25zZWN1dGl2ZVBvc2l0aW9ucyhkaWdpdHMpO1xuICB9XG5cbiAgcmV0dXJuIGNoZWNrRG91YmxlT3JUcmlwbGUoZ3JvdXBlZEJ5T2NjdXJyZW5jZXMpICYmIHZhbGlkQ29uc2VjdXRpdmU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N0ZXVlcklkVmFsaWQoc3RldWVySWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAvLyBNYWtlIHN1cmUgdGhlIHN0ZXVlcklkIGlzIHN0cmluZyB0aGVuIHNwbGl0IGl0IGludG8gYW4gaW50ZWdlciBhcnJheVxuICBjb25zdCBzdGV1ZXJJZEFyciA9IHN0ZXVlcklkLnNwbGl0KCcnKS5tYXAobiA9PiBwYXJzZUludChuLCAxMCkpO1xuXG4gIC8vIENoZWNrIHRoYXQgc3RldWVySWQgaGFzIGV4YWN0bHkgMTEgZGlnaXRzIGFuZCBkb2VzIG5vdCBzdGFydCB3aXRoIDBcbiAgaWYgKHN0ZXVlcklkQXJyWzBdID09PSAwIHx8IHN0ZXVlcklkLmxlbmd0aCAhPT0gMTEgfHwgIWFyZUFsbE51bWJlcnMoc3RldWVySWRBcnIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gQXJyYW5nZXMgdGhlIGNoYXJhY3RlcnMgYW5kIHRoZWlyIG9jY3VycmVuY2VzIGZvciBlYXNpZXIgY2hlY2tzLlxuICBjb25zdCBmaXJzdFRlbiA9IHN0ZXVlcklkQXJyLnNsaWNlKDAsIDEwKTtcbiAgLy8gQ2hlY2tzIHRoZSB2YWxpZGF0eSBvZiB0aGUgc3RldWVySWRcbiAgY29uc3QgY29ycmVjdCA9IGlzT2NjdXJyZW5jZXNWYWxpZChmaXJzdFRlbik7XG5cbiAgaWYgKGNvcnJlY3QpIHtcbiAgICAvLyBNYWtlcyBzdXJlIHRoYXQgdGhlIGNoZWNrc3VtIGNoYXJhY3RlciBhbHNvIG1hdGNoZXMuXG4gICAgY29uc3QgY2hlY2tzdW0gPSBnZXRDaGVja3N1bShmaXJzdFRlbik7XG4gICAgaWYgKGNoZWNrc3VtID09PSBnZXRUYWlsKHN0ZXVlcklkQXJyKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKlxuVGhlIGZpcnN0IG51bWJlciBpcyBub3QgMFxuSW4gdGhlIGZpcnN0IDEwIGRpZ2l0cyB0aGVyZSBpcyBleGFjdGx5IG9uZSBudW1iZXIgZG91YmxlIG9yIHRyaXBsZVxuSWYgdGhlcmUgYXJlIDMgc2FtZSBudW1iZXJzIGF0IHRoZSBwb3NpdGlvbiAxIHRvIDEwIHRob3NlIGRvdWJsZSBudW1iZXJzIGNvdWxkIG5ldmVyIGJlIGNvbnNlY3V0aXZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVN0ZXVlcklkKCk6IHN0cmluZyB7XG4gIGxldCBkaWdpdHM6IG51bWJlcltdO1xuICBkaWdpdHMgPSBbXTtcbiAgLy8gZG9lcyBub3Qgc3RhcnQgd2l0aCBhIDBcbiAgY29uc3QgZGlnaXQgPSBNYXRoLnJvdW5kKChNYXRoLnJhbmRvbSgpICogOCkgKyAxKTtcbiAgZGlnaXRzLnB1c2goZGlnaXQpO1xuXG4gIGxldCBjYW5kaWRhdGU6IG51bWJlcltdO1xuICBjYW5kaWRhdGUgPSBbXTtcblxuICB3aGlsZSAoZGlnaXRzLmxlbmd0aCA8IDEwKSB7XG4gICAgbGV0IGlzVmFsaWREaWdpdCA9IGZhbHNlO1xuICAgIGxldCBjYW5kaWRhdGVEaWdpdDogbnVtYmVyO1xuICAgIHdoaWxlICghaXNWYWxpZERpZ2l0KSB7XG4gICAgICBjYW5kaWRhdGVEaWdpdCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDkpXG4gICAgICBjYW5kaWRhdGUgPSBbLi4uZGlnaXRzLCBjYW5kaWRhdGVEaWdpdF1cbiAgICAgIGlmIChpc09jY3VycmVuY2VzVmFsaWQoY2FuZGlkYXRlKSkge1xuICAgICAgICBpc1ZhbGlkRGlnaXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBkaWdpdHMgPSBbLi4uY2FuZGlkYXRlXTtcbiAgfVxuXG4gIHJldHVybiBkaWdpdHMuam9pbignJykgKyBTdHJpbmcoZ2V0Q2hlY2tzdW0oZGlnaXRzKSlcbn1cblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVW5pcXVlU3RldWVySWRzID0gKGNvdW50T2ZVbmlxdWU6IG51bWJlcik6IHN0cmluZ1tdID0+IHtcbiAgY29uc3Qgc2V0T2ZTdGV1ZXJJZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICB3aGlsZSAoc2V0T2ZTdGV1ZXJJZHMuc2l6ZSA8IGNvdW50T2ZVbmlxdWUpIHtcbiAgICBzZXRPZlN0ZXVlcklkcy5hZGQoZ2VuZXJhdGVTdGV1ZXJJZCgpKTtcbiAgfVxuXG4gIHJldHVybiBBcnJheS5mcm9tKHNldE9mU3RldWVySWRzKTtcbn07Il0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwidGhpcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwiZ2V0Q2hlY2tzdW0iLCJzdGV1ZXJJZCIsImxlbmd0aCIsInVuZGVmaW5lZCIsImlzTmFOIiwiZGlnaXQiLCJzdW0iLCJwcm9kdWN0IiwiY2hlY2tEaWdpdCIsImlzT2NjdXJyZW5jZXNWYWxpZCIsImRpZ2l0cyIsImdyb3VwZWRCeU9jY3VycmVuY2VzIiwibWFwIiwicmVzdWx0IiwibnVtT2ZPY2N1cnJlbmNlIiwiZ3JvdXBCeU51bU9mT2NjdXJyZW5jZXMiLCJhcnIiLCJmb3JFYWNoIiwibnVtIiwiZ2V0TnVtT2NjdXJyZW5jZXNNYXAiLCJ2YWxpZENvbnNlY3V0aXZlIiwiZmluZCIsIml0ZW0iLCJpbmRleCIsImFycmF5IiwibnVtMm9yM29jY3VycmVuY2VzIiwicGFyc2VJbnQiLCJjaGVja0RvdWJsZU9yVHJpcGxlIiwiaXNTdGV1ZXJJZFZhbGlkIiwic3RldWVySWRBcnIiLCJzcGxpdCIsIm4iLCJyZWR1Y2UiLCJiIiwiZmlyc3RUZW4iLCJzbGljZSIsImxhc3RJbmRleCIsImdldFRhaWwiLCJnZW5lcmF0ZVN0ZXVlcklkIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiY2FuZGlkYXRlIiwicHVzaCIsImNhbmRpZGF0ZURpZ2l0IiwiaXNWYWxpZERpZ2l0Iiwiam9pbiIsIlN0cmluZyIsImdlbmVyYXRlVW5pcXVlU3RldWVySWRzIiwiY291bnRPZlVuaXF1ZSIsInNldE9mU3RldWVySWRzIiwiU2V0Iiwic2l6ZSIsImFkZCIsIkFycmF5IiwiZnJvbSJdLCJzb3VyY2VSb290IjoiIn0=