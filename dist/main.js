!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["validate-steuerid"]=t():e["validate-steuerid"]=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{isOccurencesValid:()=>n,validateSteuerId:()=>o,generateSteuerId:()=>i});const r=e=>{const t=e.length;if(0===t||void 0===t||isNaN(t))return null;let r,n,o=10;for(let i=0;i<t;i++)r=e[i],n=(r+o)%10,0===n&&(n=10),o=2*n%11;const i=11-o;return 10===i?0:i};function n(e){const t=(e=>{const t={};for(const r in e){const n=e[r];void 0===t[n]?t[n]=[r]:t[n]=[...t[n],r]}return t})((e=>{const t={};return e.forEach((e=>{e in t?t[e]+=1:t[e]=1})),t})(e));let r=!0;return"3"in t&&(r=!e.find(((e,t,r)=>e===r[t-1]&&e===r[t-2]))),((e={})=>{let t=0;for(const r in e)if(parseInt(r)>=2&&t++,t>1)return!1;return!0})(t)&&r}function o(e){if("string"!=typeof e)throw new TypeError("`steuerId` must be a string");let t=e.split("").map((e=>parseInt(e,10)));if(11!==e.length)throw new TypeError("`steuerId` must contain exactly 11 digits");if(!t.reduce((function(e,t){return e&&"number"==typeof t&&!isNaN(t)}),!0))throw new TypeError("`steuerId` can not contain non numerical characters");if(0===t[0])return!1;const o=t.slice(0,10);return!(!n(o)||r(o)!==(e=>{const t=e.length-1;return t>=0?e[t]:null})(t))}function i(){let e;e=[];const t=Math.round(8*Math.random()+1);let o;for(e.push(t),o=[];e.length<10;){let t,r=!1;for(;!r;)t=Math.round(9*Math.random()),o=[...e,t],n(o)&&(r=!0);e=[...o]}return e.join("")+String(r(e))}return t})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQW5CQyxFQUFZLEdBQ2QsT0FBTyxFQUlULE1BQU1NLEVBQVdOLEVBQVlPLE1BQU0sRUFBRyxJQUl0QyxTQUZnQjVCLEVBQWtCMkIsSUFJZnJDLEVBQVlxQyxLQXhIakIsQ0FBQ3BCLElBQ2YsTUFBTXNCLEVBQVl0QixFQUFJZixPQUFTLEVBQy9CLE9BQU9xQyxHQUFhLEVBQUl0QixFQUFJc0IsR0FBYSxNQXVIdEJDLENBQVFULElBYXRCLFNBQVNVLElBQ2QsSUFBSTlCLEVBQ0pBLEVBQVMsR0FFVCxNQUFNTixFQUFRcUMsS0FBS0MsTUFBdUIsRUFBaEJELEtBQUtFLFNBQWdCLEdBRy9DLElBQUlDLEVBR0osSUFMQWxDLEVBQU9tQyxLQUFLekMsR0FHWndDLEVBQVksR0FFTGxDLEVBQU9ULE9BQVMsSUFBSSxDQUN6QixJQUNJNkMsRUFEQUMsR0FBZSxFQUVuQixNQUFRQSxHQUNORCxFQUFpQkwsS0FBS0MsTUFBc0IsRUFBaEJELEtBQUtFLFVBQ2pDQyxFQUFZLElBQUlsQyxFQUFRb0MsR0FDcEJyQyxFQUFrQm1DLEtBQ3BCRyxHQUFlLEdBR25CckMsRUFBUyxJQUFJa0MsR0FHZixPQUFPbEMsRUFBT3NDLEtBQUssSUFBTUMsT0FBT2xELEVBQVlXLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92YWxpZGF0ZS1zdGV1ZXJpZC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vdmFsaWRhdGUtc3RldWVyaWQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdmFsaWRhdGUtc3RldWVyaWQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3ZhbGlkYXRlLXN0ZXVlcmlkL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdmFsaWRhdGUtc3RldWVyaWQvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly92YWxpZGF0ZS1zdGV1ZXJpZC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJ2YWxpZGF0ZS1zdGV1ZXJpZFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ2YWxpZGF0ZS1zdGV1ZXJpZFwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGFyZUFsbE51bWJlcnMgPSAoYXJyOiBudW1iZXJbXSkgPT4ge1xuICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhICYmIHR5cGVvZiBiID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oYilcbiAgfSwgdHJ1ZSk7XG59XG5cbmNvbnN0IGdldFRhaWwgPSAoYXJyOiBudW1iZXJbXSkgPT4ge1xuICBjb25zdCBsYXN0SW5kZXggPSBhcnIubGVuZ3RoIC0gMTtcbiAgcmV0dXJuIGxhc3RJbmRleCA+PSAwID8gYXJyW2xhc3RJbmRleF0gOiBudWxsO1xufVxuXG5jb25zdCBnZXROdW1PY2N1cmVuY2VzTWFwID0gKGFycjogbnVtYmVyW10pID0+IHtcbiAgY29uc3QgbWFwID0ge307XG4gIGFyci5mb3JFYWNoKChudW06IG51bWJlcikgPT4ge1xuICAgIGlmICghKG51bSBpbiBtYXApKSB7XG4gICAgICBtYXBbbnVtXSA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcFtudW1dICs9IDE7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG1hcDtcbn1cblxuY29uc3QgZ3JvdXBCeU51bU9mT2NjdXJyZW5jZXMgPSAobWFwOiBPYmplY3QpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIG1hcCkge1xuICAgIGNvbnN0IG51bU9mT2NjdXJyZW5jZSA9IG1hcFtrZXldO1xuICAgIGlmIChyZXN1bHRbbnVtT2ZPY2N1cnJlbmNlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHRbbnVtT2ZPY2N1cnJlbmNlXSA9IFtrZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRbbnVtT2ZPY2N1cnJlbmNlXSA9IFsuLi5yZXN1bHRbbnVtT2ZPY2N1cnJlbmNlXSwga2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gaGFzIHRvIGhhdmUgZWl0aGVyIG9uZSBkb3VibGUgZGlnaXQgT1Igb25lIHRyaXBsZSBkaWdpdCwgbmV2ZXIgYm90aC5cbmNvbnN0IGNoZWNrRG91YmxlT3JUcmlwbGUgPSAoZ3JvdXBlZEJ5T2NjdXJyZW5jZXMgPSB7fSkgPT4ge1xuICBsZXQgbnVtMm9yM29jY3VyZW5jZXMgPSAwO1xuXG4gIGZvciAoY29uc3Qga2V5IGluIGdyb3VwZWRCeU9jY3VycmVuY2VzKSB7XG4gICAgY29uc3Qgb2NjdXJyZW5jZSA9IHBhcnNlSW50KGtleSk7XG5cbiAgICAvLyBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gMSAyb3IzIG9jY3VycmVuY2VzIHJldHVybiBmYWxzZVxuICAgIGlmIChvY2N1cnJlbmNlID49IDIpIHtcbiAgICAgIG51bTJvcjNvY2N1cmVuY2VzKys7XG4gICAgfVxuXG4gICAgaWYgKG51bTJvcjNvY2N1cmVuY2VzID4gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBDYW4gb25seSBoYXZlIG51bWJlciBpbiB0d28gY29uc2VjdXRpdmUgcG9zaXRpb25zLCBuZXZlciB0aHJlZS5cbmNvbnN0IGNoZWNrQ29uc2VjdXRpdmVQb3NpdGlvbnMgPSAoZmlyc3RUZW46IG51bWJlcltdKSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvc3RyaWN0LWJvb2xlYW4tZXhwcmVzc2lvbnNcbiAgcmV0dXJuICEoZmlyc3RUZW4uZmluZCgoaXRlbSwgaW5kZXgsIGFycmF5KSA9PiAoaXRlbSA9PT0gYXJyYXlbaW5kZXggLSAxXSAmJiBpdGVtID09PSBhcnJheVtpbmRleCAtIDJdKSkpO1xufVxuXG5jb25zdCBnZXRDaGVja3N1bSA9IChzdGV1ZXJJZDogbnVtYmVyW10pID0+IHtcbiAgLy8gVGFrZXMgaW4gYW4gYXJyYXkgb2YgbnVtYmVyc1xuICBjb25zdCBsZW5ndGggPSBzdGV1ZXJJZC5sZW5ndGhcblxuICBpZiAobGVuZ3RoID09PSAwIHx8IGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKGxlbmd0aCkpIHJldHVybiBudWxsXG5cbiAgY29uc3QgbiA9IDExXG4gIGNvbnN0IG0gPSAxMFxuICBsZXQgZGlnaXRcbiAgbGV0IHByb2R1Y3QgPSBtXG4gIGxldCBzdW1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgZGlnaXQgPSBzdGV1ZXJJZFtpXVxuICAgIHN1bSA9IChkaWdpdCArIHByb2R1Y3QpICUgbVxuICAgIGlmIChzdW0gPT09IDApIHtcbiAgICAgIHN1bSA9IG1cbiAgICB9XG4gICAgcHJvZHVjdCA9ICgyICogc3VtKSAlIG5cbiAgfVxuXG4gIGNvbnN0IGNoZWNrRGlnaXQgPSBuIC0gcHJvZHVjdFxuXG4gIHJldHVybiAoY2hlY2tEaWdpdCA9PT0gMTApID8gMCA6IGNoZWNrRGlnaXRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2NjdXJlbmNlc1ZhbGlkKGRpZ2l0czogbnVtYmVyW10pIHtcbiAgY29uc3QgZ3JvdXBlZEJ5Q2hhcmFjdGVycyA9IGdldE51bU9jY3VyZW5jZXNNYXAoZGlnaXRzKTtcbiAgY29uc3QgZ3JvdXBlZEJ5T2NjdXJyZW5jZXMgPSBncm91cEJ5TnVtT2ZPY2N1cnJlbmNlcyhncm91cGVkQnlDaGFyYWN0ZXJzKTtcbiAgbGV0IHZhbGlkQ29uc2VjdXRpdmUgPSB0cnVlO1xuXG4gIGlmICgnMycgaW4gZ3JvdXBlZEJ5T2NjdXJyZW5jZXMpIHtcbiAgICB2YWxpZENvbnNlY3V0aXZlID0gY2hlY2tDb25zZWN1dGl2ZVBvc2l0aW9ucyhkaWdpdHMpO1xuICB9XG5cbiAgcmV0dXJuIGNoZWNrRG91YmxlT3JUcmlwbGUoZ3JvdXBlZEJ5T2NjdXJyZW5jZXMpICYmIHZhbGlkQ29uc2VjdXRpdmU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVN0ZXVlcklkKHN0ZXVlcklkOiBTdHJpbmcpOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiBzdGV1ZXJJZCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgc3RldWVySWRgIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSB0aGUgc3RldWVySWQgaXMgc3RyaW5nIHRoZW4gc3BsaXQgaXQgaW50byBhbiBpbnRlZ2VyIGFycmF5XG4gIGxldCBzdGV1ZXJJZEFyciA9IHN0ZXVlcklkLnNwbGl0KCcnKS5tYXAobiA9PiBwYXJzZUludChuLCAxMCkpO1xuXG4gIC8vIENoZWNrIHRoYXQgc3RldWVySWQgaGFzIGV4YWN0bHkgMTEgZGlnaXRzIGFuZCBkb2VzIG5vdCBzdGFydCB3aXRoIDBcbiAgaWYgKHN0ZXVlcklkLmxlbmd0aCAhPT0gMTEpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgc3RldWVySWRgIG11c3QgY29udGFpbiBleGFjdGx5IDExIGRpZ2l0cycpO1xuICB9XG4gIGlmICghYXJlQWxsTnVtYmVycyhzdGV1ZXJJZEFycikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgc3RldWVySWRgIGNhbiBub3QgY29udGFpbiBub24gbnVtZXJpY2FsIGNoYXJhY3RlcnMnKTtcbiAgfVxuICBpZiAoc3RldWVySWRBcnJbMF0gPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBBcnJhbmdlcyB0aGUgY2hhcmFjdGVycyBhbmQgdGhlaXIgb2NjdXJyZW5jZXMgZm9yIGVhc2llciBjaGVja3MuXG4gIGNvbnN0IGZpcnN0VGVuID0gc3RldWVySWRBcnIuc2xpY2UoMCwgMTApO1xuICAvLyBDaGVja3MgdGhlIHZhbGlkYXR5IG9mIHRoZSBzdGV1ZXJJZFxuICBjb25zdCBjb3JyZWN0ID0gaXNPY2N1cmVuY2VzVmFsaWQoZmlyc3RUZW4pO1xuXG4gIGlmIChjb3JyZWN0KSB7XG4gICAgLy8gTWFrZXMgc3VyZSB0aGF0IHRoZSBjaGVja3N1bSBjaGFyYWN0ZXIgYWxzbyBtYXRjaGVzLlxuICAgIGNvbnN0IGNoZWNrc3VtID0gZ2V0Q2hlY2tzdW0oZmlyc3RUZW4pO1xuICAgIGlmIChjaGVja3N1bSA9PT0gZ2V0VGFpbChzdGV1ZXJJZEFycikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLypcblRoZSBmaXJzdCBudW1iZXIgaXMgbm90IDBcbkluIHRoZSBmaXJzdCAxMCBkaWdpdHMgdGhlcmUgaXMgZXhhY3RseSBvbmUgbnVtYmVyIGRvdWJsZSBvciB0cmlwbGVcbklmIHRoZXJlIGFyZSAzIHNhbWUgbnVtYmVycyBhdCB0aGUgcG9zaXRpb24gMSB0byAxMCB0aG9zZSBkb3VibGUgbnVtYmVycyBjb3VsZCBuZXZlciBiZSBjb25zZWN1dGl2ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTdGV1ZXJJZCgpOiBzdHJpbmcge1xuICBsZXQgZGlnaXRzOiBudW1iZXJbXTtcbiAgZGlnaXRzID0gW107XG4gIC8vIGRvZXMgbm90IHN0YXJ0IHdpdGggYSAwXG4gIGNvbnN0IGRpZ2l0ID0gTWF0aC5yb3VuZCgoTWF0aC5yYW5kb20oKSAqIDgpICsgMSk7XG4gIGRpZ2l0cy5wdXNoKGRpZ2l0KTtcblxuICBsZXQgY2FuZGlkYXRlOiBudW1iZXJbXTtcbiAgY2FuZGlkYXRlID0gW107XG5cbiAgd2hpbGUgKGRpZ2l0cy5sZW5ndGggPCAxMCkge1xuICAgIGxldCBpc1ZhbGlkRGlnaXQgPSBmYWxzZTtcbiAgICBsZXQgY2FuZGlkYXRlRGlnaXQ6IG51bWJlcjtcbiAgICB3aGlsZSAoIWlzVmFsaWREaWdpdCkge1xuICAgICAgY2FuZGlkYXRlRGlnaXQgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA5KVxuICAgICAgY2FuZGlkYXRlID0gWy4uLmRpZ2l0cywgY2FuZGlkYXRlRGlnaXRdXG4gICAgICBpZiAoaXNPY2N1cmVuY2VzVmFsaWQoY2FuZGlkYXRlKSkge1xuICAgICAgICBpc1ZhbGlkRGlnaXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBkaWdpdHMgPSBbLi4uY2FuZGlkYXRlXTtcbiAgfVxuXG4gIHJldHVybiBkaWdpdHMuam9pbignJykgKyBTdHJpbmcoZ2V0Q2hlY2tzdW0oZGlnaXRzKSlcbn1cbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJnZXRDaGVja3N1bSIsInN0ZXVlcklkIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiaXNOYU4iLCJkaWdpdCIsInN1bSIsInByb2R1Y3QiLCJpIiwiY2hlY2tEaWdpdCIsImlzT2NjdXJlbmNlc1ZhbGlkIiwiZGlnaXRzIiwiZ3JvdXBlZEJ5T2NjdXJyZW5jZXMiLCJtYXAiLCJyZXN1bHQiLCJudW1PZk9jY3VycmVuY2UiLCJncm91cEJ5TnVtT2ZPY2N1cnJlbmNlcyIsImFyciIsImZvckVhY2giLCJudW0iLCJnZXROdW1PY2N1cmVuY2VzTWFwIiwidmFsaWRDb25zZWN1dGl2ZSIsImZpbmQiLCJpdGVtIiwiaW5kZXgiLCJhcnJheSIsIm51bTJvcjNvY2N1cmVuY2VzIiwicGFyc2VJbnQiLCJjaGVja0RvdWJsZU9yVHJpcGxlIiwidmFsaWRhdGVTdGV1ZXJJZCIsIlR5cGVFcnJvciIsInN0ZXVlcklkQXJyIiwic3BsaXQiLCJuIiwicmVkdWNlIiwiYSIsImIiLCJmaXJzdFRlbiIsInNsaWNlIiwibGFzdEluZGV4IiwiZ2V0VGFpbCIsImdlbmVyYXRlU3RldWVySWQiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJjYW5kaWRhdGUiLCJwdXNoIiwiY2FuZGlkYXRlRGlnaXQiLCJpc1ZhbGlkRGlnaXQiLCJqb2luIiwiU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==